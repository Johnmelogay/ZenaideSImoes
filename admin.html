<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <title>Admin - Zenaide Sim√µes</title>
    <link rel="manifest" href="./admin-manifest.json" />
    <link rel="icon" href="./favicon.ico" />
    <link rel="apple-touch-icon" href="./logo192.png" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="Admin Zenaide" />
    <meta name="theme-color" content="#292524" />
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #1c1917;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro', sans-serif;
            color: #fafaf9;
            padding: 24px;
        }

        .container {
            text-align: center;
            max-width: 320px;
        }

        .logo {
            font-size: 48px;
            margin-bottom: 16px;
        }

        h1 {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .subtitle {
            font-size: 14px;
            color: #a8a29e;
            margin-bottom: 32px;
            line-height: 1.5;
        }

        .steps {
            text-align: left;
            background: #292524;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 24px;
        }

        .step {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 12px 0;
            border-bottom: 1px solid #3a3530;
        }

        .step:last-child {
            border-bottom: none;
        }

        .step-num {
            background: #f59e0b;
            color: #1c1917;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 12px;
            flex-shrink: 0;
        }

        .step-text {
            font-size: 14px;
            line-height: 1.4;
            color: #d6d3d1;
        }

        .step-text strong {
            color: #fafaf9;
        }

        .enter-btn {
            display: inline-block;
            background: #f59e0b;
            color: #1c1917;
            font-weight: 700;
            font-size: 16px;
            padding: 14px 32px;
            border-radius: 12px;
            border: none;
            cursor: pointer;
            text-decoration: none;
            width: 100%;
        }

        .enter-btn:active {
            opacity: 0.8;
        }

        .skip {
            margin-top: 16px;
            font-size: 13px;
            color: #78716c;
        }

        .skip a {
            color: #f59e0b;
            text-decoration: none;
        }

        /* Loading screen for standalone mode */
        .loading {
            text-align: center;
        }

        .spinner {
            width: 36px;
            height: 36px;
            border: 3px solid rgba(255, 255, 255, 0.15);
            border-top-color: #f59e0b;
            border-radius: 50%;
            animation: spin 0.7s linear infinite;
            margin: 0 auto 16px;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .loading p {
            font-size: 14px;
            color: #a8a29e;
        }
    </style>
</head>

<body>
    <!-- Shown when launched from Home Screen (standalone) -->
    <div id="loading" class="loading" style="display:none;">
        <div class="spinner"></div>
        <p>Abrindo painel admin...</p>
    </div>

    <!-- Shown in Safari (instructions to save) -->
    <div id="instructions" class="container" style="display:none;">
        <div class="logo">üíé</div>
        <h1>Admin Zenaide</h1>
        <p class="subtitle">Salve este app na tela inicial do iPhone para receber notifica√ß√µes de pedidos.</p>

        <div class="steps">
            <div class="step">
                <span class="step-num">1</span>
                <span class="step-text">Toque no √≠cone <strong>Compartilhar</strong> (‚¨ÜÔ∏è) na barra do Safari</span>
            </div>
            <div class="step">
                <span class="step-num">2</span>
                <span class="step-text">Role e toque em <strong>"Adicionar √† Tela de In√≠cio"</strong></span>
            </div>
            <div class="step">
                <span class="step-num">3</span>
                <span class="step-text">Confirme o nome <strong>"Admin Zenaide"</strong> e toque em Adicionar</span>
            </div>
            <div class="step">
                <span class="step-num">4</span>
                <span class="step-text">Abra pelo <strong>√≠cone na tela inicial</strong> e ative as notifica√ß√µes
                    üîî</span>
            </div>
        </div>

        <a href="./index.html#/admin" class="enter-btn">Ir para o Admin agora ‚Üí</a>
        <p class="skip">J√° salvou? <a href="./index.html#/admin">Abrir o painel</a></p>
    </div>

    <script>
        // Detect standalone mode (launched from Home Screen)
        var isStandalone = window.navigator.standalone === true ||
            window.matchMedia('(display-mode: standalone)').matches;

        if (isStandalone) {
            // Running as PWA ‚Äî redirect to admin
            document.getElementById('loading').style.display = 'block';
            document.getElementById('instructions').style.display = 'none';
            window.location.replace('./index.html#/admin');
        } else {
            // Running in Safari ‚Äî show save instructions
            document.getElementById('loading').style.display = 'none';
            document.getElementById('instructions').style.display = 'block';
        }
    </script>
</body>

</html>